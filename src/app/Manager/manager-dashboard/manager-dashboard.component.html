
<section>
    <article>
    <div class="bg-yellow-100 text-yellow-800 px-4 py-3 rounded mb-4 shadow-md">
      <strong>⚠️ Warning:</strong> This needs your urgent attention!
    </div>

    <!-- Current Date/Time -->
    <div class="text-center text-purple-700 font-semibold mb-6">
      Current Date and Time: {{ currentDateTime }}
    </div>

    <!-- Loan Officers Section -->
    <h2 class="text-xl font-bold text-gray-700 mb-2">🏅 Outstanding Loan Performers - Loan Officers</h2>
    <div class="grid md:grid-cols-3 gap-4 bg-blue-100 p-4 rounded-lg shadow">
      <div class="bg-white p-4 rounded shadow">
        <h3 class="font-semibold text-gray-600">Loan Officer A</h3>
        <p>💰 Disbursed: $500,000</p>
        <p>📉 Outstanding: $200,000</p>
        <p>💵 Interest Earned: $50,000</p>
      </div>
      <div class="bg-white p-4 rounded shadow">
        <h3 class="font-semibold text-gray-600">Loan Officer B</h3>
        <p>💰 Disbursed: $500,000</p>
        <p>📉 Outstanding: $200,000</p>
        <p>💵 Interest Earned: $50,000</p>
      </div>
      <div class="bg-white p-4 rounded shadow">
        <h3 class="font-semibold text-gray-600">Loan Officer C</h3>
        <p>💰 Disbursed: $500,000</p>
        <p>📉 Outstanding: $200,000</p>
        <p>💵 Interest Earned: $50,000</p>
      </div>
    </div>

    <!-- Loan Setup Section -->
    <h2 class="text-xl font-bold text-gray-700 mt-6 mb-2">🛠️ Loan Setup</h2>
    <div class="grid md:grid-cols-3 gap-4">
      <div class="bg-gray-100 p-4 rounded shadow">
        <h3 class="font-semibold text-gray-700">Loan Categories</h3>
        <div class="mb-2">
          <p *ngFor="let category of loanCategories()">{{category.loanName}}</p>
        </div>
        <button class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 text-sm">+ Add loan categories</button>
      </div>
      <div class="bg-yellow-50 p-4 rounded shadow">
        <h3 class="font-semibold text-gray-700">Loan Categories </h3>
        <p>🎓 Student Loan </p>
        <p>💼 Business Loan </p>
        <p>🏠 Mortgage Loan </p>
        <!-- <p class="text-gray-500 text-sm">📍 London has over 13 million inhabitants.</p> -->
      </div>
      <div class="bg-yellow-50 p-4 rounded shadow">
        <h3 class="font-semibold text-gray-700">Rome</h3>
        <p>Rome is the capital city of Italy.</p>
        <p class="text-gray-500 text-sm">📍 Almost 3 million inhabitants.</p>
      </div>
    </div>

    <!-- Client Section -->
    <h2 class="text-xl font-bold text-gray-700 mt-6 mb-2">🏅 Outstanding Loan Performers - Clients</h2>

            <div class="container">
              <div>
                <mat-tab-group mat-stretch-tabs="false" mat-align-tabs="start">
                <!-- <mat-tab-group mat-stretch-tabs="false" mat-align-tabs="center"> -->
                  <mat-tab label="Loan application approval"><br>
                    <button>Approve Application</button>
                    <p>Here you will find the Loan application</p>
                  
                    <div class="overflow-x-auto">
                      <table class="table-auto border-collapse border border-gray-300 w-full text-left">
                        <thead>
                          <tr>
                            <th *ngIf="visibleColumns['loanNumber']">Loan Number</th>
                            <th *ngIf="visibleColumns['principalAmount']">Principal Amount</th>
                            <th *ngIf="visibleColumns['interestAmount']">Interest Amount</th>
                            <th *ngIf="visibleColumns['totalAmount']">Total Amount</th>
                            <th *ngIf="visibleColumns['status']">Status</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let row of loanApprovalList()">
                            <td *ngIf="visibleColumns['loanNumber']">{{ row.loanNumber }}</td>
                            <td *ngIf="visibleColumns['principalAmount']">{{ row.principalAmount | currency }}</td>
                            <td *ngIf="visibleColumns['interestAmount']">{{ row.interestAmount | currency }}</td>
                            <td *ngIf="visibleColumns['totalAmount']">{{ row.totalAmount | currency }}</td>
                            <td *ngIf="visibleColumns['status']">{{ row.status }}</td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </mat-tab>
                    <mat-tab label="Loan Disbursed">Loan Disbursed<br>
                        <p>Here you will find the Loan Disbursment</p>
                        <div >
                          <table class="table-auto border-collapse border border-gray-300 w-full text-left">
                            <thead class="bg-gray-200">
                              <tr>
                                <!-- <th *ngIf="visibleColumns['loanNumber']">Loan Number</th>
                                <th *ngIf="visibleColumns['PrincipalAmount']">Principal Amount</th>
                                <th *ngIf="visibleColumns['InterestAmount']">Interest Amount</th>
                                <th *ngIf="visibleColumns['TotalAmount']">Total Amount</th>
                                <th *ngIf="visibleColumns['email']">Email</th> -->

                                <th >Loan Number</th>
                                <th >Principal Amount</th>
                                <th >Interest Amount</th>
                                <th >Total Amount</th>
                                <th >Email</th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr *ngFor="let disbursment of loanDisbursementList()">
                                <td >{{ disbursment.loanNumber }}</td>
                                <td >{{ disbursment.PrincipalAmount | currency  }}</td>
                                <td >{{ disbursment.InterestAmount | currency  }}</td>
                                <td >{{ disbursment.TotalAmount | currency }}</td>
                                <td >{{ disbursment.email }}</td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                    </mat-tab>
                    <mat-tab label="Closed Off Loans">Closed Off Loans<br>
                      <!-- <mat-tab label="Closed Off Loans"> -->
                        <div class="loan-cards" fxLayout="row wrap" fxLayoutGap="16px">
                          <mat-card *ngFor="let loanClosed of loanClosedList()">
                            <mat-card-title>Loan ID: {{loanClosed.loanNumber}} </mat-card-title>
                            <mat-card-content>
                              <p><strong>Amount:</strong> {{loanClosed.totalAmount | currency}}</p>
                              <!-- <p><strong>Email:</strong> {{loanClosed.email }}</p> -->
                              <p><strong>Closed On:</strong> {{loanClosed.closureDate | date}}</p>
                            </mat-card-content>
                          </mat-card>
                        </div>
                      </mat-tab>

                    <mat-tab label="Loan Terms">Loan Terms <br>
                      <!-- <ag-grid-angular
                        style="width: 100%; height: 550px"
                        [class]="themeClass"
                        [defaultColDef]="defaultColDef"
                        [rowData]="loanTerm"
                        [columnDefs]="loanTerms"
                        (gridSizeChanged)="onGridSizeChange($event)"
                      > </ag-grid-angular> -->
                    </mat-tab>
                    <mat-tab label="Loan Collateral">Loan Collateral <br>
                        <p>Here you will find the Loan Collateral</p>
                    </mat-tab>
                    <mat-tab label="Loan Files"><br>
                        <div class="container mt-4">
                            <!-- <h2>Loan Files</h2> -->
                            <table class="table table-bordered">
                              <thead>
                                <tr>
                                  <th>File Name</th>
                                  <th>Type</th>
                                  <th>Upload Date</th>
                                  <th>Action</th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr *ngFor="let file of loanFiles">
                                  <td>{{ file.fileName }}</td>
                                  <td>{{ file.fileType }}</td>
                                  <td>{{ file.uploadDate | date }}</td>
                                  <td>
                                    <button class="btn btn-primary" (click)="downloadFile(file)">Download</button>
                                    <button class="btn btn-danger" (click)="deleteFile(file)">Delete</button>
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </div>                              
                    </mat-tab>
                    <mat-tab label="Loan Comments">Loan Comments/Reminders<br>
                        <div class="loan-comments">                              
                            <!-- Display existing comments -->
                            <div *ngFor="let comment of comments" class="comment">
                              <div class="comment-header">
                                <strong>{{ comment.userName }}</strong>
                                <span class="timestamp">{{ comment.timestamp | date:'short' }}</span>
                              </div>
                              <p>{{ comment.text }}</p>
                            </div>
                          
                            <!-- Add new comment -->
                            <div class="add-comment">
                              <h4>Add a Comment</h4>
                              <textarea [(ngModel)]="newComment.text" rows="3" placeholder="Write your comment..."></textarea>
                              <button (click)="addComment()">Submit</button>
                            </div>
                          </div>
                    </mat-tab>
                </mat-tab-group>
            </div>
            </div>
    
    </article>

</section>

  