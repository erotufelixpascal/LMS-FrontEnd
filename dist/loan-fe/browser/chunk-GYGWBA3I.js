import{a as I,b as R}from"./chunk-YI4RXPCY.js";import{A as se,B as V,C as A,x as le,y as me,z as F}from"./chunk-QTSO5AZM.js";import{e as N,g as Y,h as K,i as Q,j as Z,k as ee,l as te,n as ne,o as ie,p as ae,q as oe,r as re,t as P,u as k,v as L,w as O}from"./chunk-6LEKVGPN.js";import"./chunk-WXI33M2S.js";import{$b as x,Ab as S,Db as G,Ea as s,Eb as $,Fa as g,Fb as q,Sa as U,Xa as y,Za as b,_b as X,a as M,ab as z,ac as E,fb as e,ga as v,gb as n,hb as h,ib as w,jb as f,kb as B,oa as d,pa as p,sb as t,tb as _,ub as D,wb as W,xb as J,yb as H,zb as T}from"./chunk-GNNXOLG4.js";function Ce(l,r){if(l&1&&(e(0,"option",31),t(1),n()),l&2){let u=r.$implicit;b("value",u.loanNumber),s(),D("",u.loanNumber," ")}}function _e(l,r){if(l&1){let u=w();e(0,"tr")(1,"td"),t(2),n(),e(3,"td"),t(4),n(),e(5,"td"),t(6),G(7,"date"),n(),e(8,"td")(9,"button",32),f("click",function(){let o=d(u).$implicit,i=B();return p(i.downloadFile(o))}),t(10,"Download"),n(),e(11,"button",33),f("click",function(){let o=d(u).$implicit,i=B();return p(i.deleteFile(o))}),t(12,"Delete"),n()()()}if(l&2){let u=r.$implicit;s(2),_(u.fileName),s(2),_(u.fileType),s(2),_($(7,3,u.uploadDate))}}function ve(l,r){if(l&1&&(e(0,"div",34)(1,"div",35)(2,"strong"),t(3),n(),e(4,"span",36),t(5),G(6,"date"),n()(),e(7,"p"),t(8),n()()),l&2){let u=r.$implicit;s(3),_(u.userName),s(2),_(q(6,3,u.timestamp,"short")),s(3),_(u.text)}}var j=(()=>{let r=class r{constructor(a,o,i,m,c){this.router=a,this.formBuilder=o,this.DataService=i,this.modalService=m,this.datePipe=c,this.loanNumbers=[],this.loanSchedule=[],this.loanPayment=[],this.loanNumber="",this.themeClass="ag-theme-alpine",this.defaultColDef={sortable:!0,filter:!0,resizable:!0},this.quauntity=U(1),this.schedule=[{field:"loanNumber",headerName:"Loan Number"},{field:"principal",headerName:"Principal Amount"},{field:"interest",headerName:"Interest Amount"},{field:"totalAmount",headerName:"Total Amount"},{field:"balance",headerName:"Balance"},{field:"payment_date",headerName:"Due Date"},{field:"next_payment_date",headerName:"Next Payment Date"},{field:"Month",headerName:"Month"}],this.payment=[{field:"loanNumber",headerName:"Loan Number"},{field:"principal",headerName:"Principal Amount"},{field:"interest",headerName:"Interest Amount"},{field:"totalAmount",headerName:"Total Amount"},{field:"balance",headerName:"Balance"},{field:"payment_date",headerName:"Due Date"},{field:"next_payment_date",headerName:"Next Payment Date"},{field:"Month",headerName:"Month"}],this.loanFiles=[{fileName:"loan-agreement.pdf",fileType:"PDF",uploadDate:new Date("2024-01-01")},{fileName:"credit-report.docx",fileType:"DOCX",uploadDate:new Date("2024-02-01")},{fileName:"collateral.png",fileType:"Image",uploadDate:new Date("2024-03-01")},{fileName:"loan-repayment-schedule.xlsx",fileType:"Excel",uploadDate:new Date("2024-04-01")}],this.comments=[{userName:"John Doe",text:"Initial review completed.",timestamp:new Date("2024-01-15T10:30:00")},{userName:"Jane Smith",text:"Loan approved.",timestamp:new Date("2024-02-01T14:45:00")},{userName:"Patricia Akiding",text:"Everything checks out",timestamp:new Date("2024-01-15T10:30:00")},{userName:"Erotu Felix-Manager",text:"Loan disbursed.",timestamp:new Date("2024-02-01T14:45:00")}],this.newComment={userName:"Current User",text:"",timestamp:new Date},this.currentDateTime=this.datePipe.transform(new Date,"fullDate")+" "+this.datePipe.transform(new Date,"shortTime"),this.staffForm=this.formBuilder.group({loanNumber:["",K.required]})}ngOnInit(){this.loans()}loans(){this.DataService.getLoans().subscribe(a=>{this.loanNumbers=a})}schedules(a){let o=this.staffForm.value;console.log("Loan Number:",o.loanNumber),this.loanNumber=o.loanNumber,this.DataService.getSchedule(this.loanNumber).subscribe(i=>{this.loanSchedule=i}),this.DataService.getPayments().subscribe(i=>{this.loanPayment=i})}showModal(){this.modalService.open(r).closed.subscribe(o=>{console.log("onclosed",o),o==1})}downloadFile(a){console.log("Downloading file:",a)}deleteFile(a){console.log("Deleting file:",a)}addComment(){this.newComment.text.trim()&&(this.newComment.timestamp=new Date,this.comments.push(M({},this.newComment)),this.newComment.text="")}onGridSizeChange(a){a.api.sizeColumnsToFit()}goToChildRoute(a){this.router.navigate([a])}};r.\u0275fac=function(o){return new(o||r)(g(N),g(P),g(O),g(A),g(x))},r.\u0275cmp=v({type:r,selectors:[["app-loan-management"]],standalone:!0,features:[T([x]),S],decls:95,vars:16,consts:[["tooltip","matTooltip"],[1,"navbar"],["src","./../../../assets/Person.png","alt","testing"],[1,"navbar-nav"],[1,"nav-item"],[1,"nav-link",3,"click"],["matTooltip","Define User Roles","matTooltipPosition","right","aria-tooltip","Button that displays and hides a tooltip triggered by other buttons",1,"nav-link",3,"click"],[1,"alert","alert-warning"],[1,"timeDate"],[3,"formGroup"],["placeholder","Select Loan Number","formControlName","loanNumber","id","loanNumber","name","loanNumber"],[3,"value",4,"ngFor","ngForOf"],["color","accent","type","submit",3,"click"],[1,"container"],["mat-stretch-tabs","false","mat-align-tabs","start"],["label","Loan Payment Schedule"],[2,"width","100%","height","550px",3,"gridSizeChanged","defaultColDef","rowData","columnDefs"],["label","Loan Repayments"],["label","Closed Off Loans"],["label","Loan Terms"],["label","Loan Collateral"],["label","Loan Files"],[1,"container","mt-4"],[1,"table","table-bordered"],[4,"ngFor","ngForOf"],["label","Loan Comments"],[1,"loan-comments"],["class","comment",4,"ngFor","ngForOf"],[1,"add-comment"],["rows","3","placeholder","Write your comment...",3,"ngModelChange","ngModel"],[3,"click"],[3,"value"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"comment"],[1,"comment-header"],[1,"timestamp"]],template:function(o,i){if(o&1){let m=w();e(0,"section")(1,"nav",1),h(2,"img",2),e(3,"ul",3)(4,"li",4)(5,"a",5),f("click",function(){return d(m),p(i.goToChildRoute("/staff/staff-dashboard"))}),t(6,"Dashboard"),n()(),e(7,"li",4)(8,"a",6,0),f("click",function(){return d(m),p(i.goToChildRoute("/staff/loan-management"))}),t(10,"Loan Management "),n()(),e(11,"li",4)(12,"a",5),f("click",function(){return d(m),p(i.goToChildRoute("/staff/staff-report"))}),t(13,"View Reports"),n()(),e(14,"li",4)(15,"a",5),f("click",function(){return d(m),p(i.goToChildRoute("/settings"))}),t(16,"Settings"),n()()()(),e(17,"article")(18,"div",7)(19,"strong"),t(20,"Warning!"),n(),t(21," A Customer "),e(22,"b"),t(23,"MUST"),n(),t(24," have "),e(25,"b"),t(26,"ONLY"),n(),t(27," one loan at a time!!. "),n(),e(28,"div",8),t(29),n(),e(30,"p"),t(31," Outstanding Loan Perfomers - Clients"),n(),e(32,"form",9)(33,"div")(34,"label"),t(35,"Loan Number:"),n(),e(36,"select",10),y(37,Ce,2,2,"option",11),n(),e(38,"button",12),f("click",function(){return d(m),p(i.schedules(i.loanNumber))}),t(39,"Search"),n()()(),e(40,"div")(41,"div",13)(42,"mat-tab-group",14)(43,"mat-tab",15),h(44,"br"),e(45,"p"),t(46,"Here you will find the Loan application"),n(),e(47,"ag-grid-angular",16),f("gridSizeChanged",function(C){return d(m),p(i.onGridSizeChange(C))}),n()(),e(48,"mat-tab",17),t(49,"Loan Disbursed"),h(50,"br"),e(51,"p"),t(52,"Here you will find the Loan Disbursment"),n(),e(53,"ag-grid-angular",16),f("gridSizeChanged",function(C){return d(m),p(i.onGridSizeChange(C))}),n()(),e(54,"mat-tab",18),t(55,"Closed Off Loans"),h(56,"br"),n(),e(57,"mat-tab",19),t(58,"Loan Terms "),h(59,"br"),n(),e(60,"mat-tab",20),t(61,"Loan Collateral "),h(62,"br"),e(63,"p"),t(64,"Here you will find the Loan Collateral"),n()(),e(65,"mat-tab",21),h(66,"br"),e(67,"div",22)(68,"table",23)(69,"thead")(70,"tr")(71,"th"),t(72,"File Name"),n(),e(73,"th"),t(74,"Type"),n(),e(75,"th"),t(76,"Upload Date"),n(),e(77,"th"),t(78,"Action"),n()()(),e(79,"tbody"),y(80,_e,13,5,"tr",24),n()()()(),e(81,"mat-tab",25),t(82,"Loan Comments/Reminders"),h(83,"br"),e(84,"div",26),y(85,ve,9,6,"div",27),e(86,"div",28)(87,"h4"),t(88,"Add a Comment"),n(),e(89,"textarea",29),H("ngModelChange",function(C){return d(m),J(i.newComment.text,C)||(i.newComment.text=C),p(C)}),n(),e(90,"button",30),f("click",function(){return d(m),p(i.addComment())}),t(91,"Submit"),n()()()()()()()()(),e(92,"footer")(93,"p"),t(94,"Footer"),n()()}o&2&&(s(29),D(" Current Date and Time: ",i.currentDateTime," "),s(3),b("formGroup",i.staffForm),s(5),b("ngForOf",i.loanNumbers),s(10),z(i.themeClass),b("defaultColDef",i.defaultColDef)("rowData",i.loanSchedule)("columnDefs",i.schedule),s(6),z(i.themeClass),b("defaultColDef",i.defaultColDef)("rowData",i.loanPayment)("columnDefs",i.payment),s(27),b("ngForOf",i.loanFiles),s(5),b("ngForOf",i.comments),s(4),W("ngModel",i.newComment.text))},dependencies:[E,X,x,L,te,oe,re,Y,ae,Q,Z,ne,ie,k,ee,F,le,me,V,se,R,I],styles:["section[_ngcontent-%COMP%]{display:-webkit-flex;display:flex;height:fit-content}img[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;display:flex;margin:5px auto}.timeDate[_ngcontent-%COMP%]{color:#5217db;display:flex;flex-direction:column;justify-content:flex-end;align-items:center;padding-left:30px}.navbar[_ngcontent-%COMP%]{background-color:#333;overflow:visible;cursor:pointer;width:20%;padding-top:20px;position:sticky;top:0;height:100vh;overflow-y:auto}.navbar-nav[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0;display:flex;flex-direction:column}.nav-item[_ngcontent-%COMP%]{flex:1}.nav-link[_ngcontent-%COMP%]{display:block;color:#fff;text-align:center;padding:14px 16px;text-decoration:none}.nav-link[_ngcontent-%COMP%]:hover{background-color:#575757}article[_ngcontent-%COMP%]{-webkit-flex:3;-ms-flex:3;flex:3;background-color:#e7e1ebf6}footer[_ngcontent-%COMP%]{background-color:#777;padding:2px;text-align:center;color:#fff}.container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:20px}.column[_ngcontent-%COMP%]{flex:1;margin:0 10px;padding:20px;background-color:#f4f4f4;border:1px solid #ccc;text-align:center}.column[_ngcontent-%COMP%]:first-child{margin-left:0}.column[_ngcontent-%COMP%]:last-child{margin-right:0}.form-control[_ngcontent-%COMP%]{width:200px}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:8px;text-align:left;border-bottom:1px solid #ddd}th[_ngcontent-%COMP%]{background-color:#f2f2f2}"]});let l=r;return l})();var pe=(()=>{let r=class r{constructor(a,o,i,m,c){this.router=a,this.formBuilder=o,this.dataService=i,this.modalService=m,this.datePipe=c,this.themeClass="ag-theme-alpine",this.defaultColDef={sortable:!0,filter:!0,resizable:!0},this.loanFiles=[{fileName:"loan-agreement.pdf",fileType:"PDF",uploadDate:new Date("2024-01-01")},{fileName:"credit-report.docx",fileType:"DOCX",uploadDate:new Date("2024-02-01")},{fileName:"collateral.png",fileType:"Image",uploadDate:new Date("2024-03-01")},{fileName:"loan-repayment-schedule.xlsx",fileType:"Excel",uploadDate:new Date("2024-04-01")}],this.comments=[{userName:"John Doe",text:"Initial review completed.",timestamp:new Date("2024-01-15T10:30:00")},{userName:"Jane Smith",text:"Loan approved.",timestamp:new Date("2024-02-01T14:45:00")},{userName:"Patricia Akiding",text:"Everything checks out",timestamp:new Date("2024-01-15T10:30:00")},{userName:"Erotu Felix-Manager",text:"Loan disbursed.",timestamp:new Date("2024-02-01T14:45:00")}],this.newComment={userName:"Current User",text:"",timestamp:new Date},this.currentDateTime=this.datePipe.transform(new Date,"fullDate")+" "+this.datePipe.transform(new Date,"shortTime")}ngOnInit(){}showModal(){this.modalService.open(j).closed.subscribe(o=>{console.log("onclosed",o),o==1})}downloadFile(a){console.log("Downloading file:",a)}deleteFile(a){console.log("Deleting file:",a)}addComment(){this.newComment.text.trim()&&(this.newComment.timestamp=new Date,this.comments.push(M({},this.newComment)),this.newComment.text="")}onGridSizeChange(a){a.api.sizeColumnsToFit()}goToChildRoute(a){this.router.navigate([a])}};r.\u0275fac=function(o){return new(o||r)(g(N),g(P),g(O),g(A),g(x))},r.\u0275cmp=v({type:r,selectors:[["app-staff-dashboard"]],standalone:!0,features:[T([x]),S],decls:91,vars:1,consts:[["tooltip","matTooltip"],[1,"navbar"],["src","./../../../assets/Person.png","alt","testing"],[1,"navbar-nav"],[1,"nav-item"],[1,"nav-link",3,"click"],["matTooltip","Define User Roles","matTooltipPosition","right","aria-tooltip","Button that displays and hides a tooltip triggered by other buttons",1,"nav-link",3,"click"],[1,"alert","alert-warning"],[1,"timeDate"],[1,"container"],[1,"column"]],template:function(o,i){if(o&1){let m=w();e(0,"section")(1,"nav",1),h(2,"img",2),e(3,"ul",3)(4,"li",4)(5,"a",5),f("click",function(){return d(m),p(i.goToChildRoute("/staff/staff-dashboard"))}),t(6,"Dashboard"),n()(),e(7,"li",4)(8,"a",6,0),f("click",function(){return d(m),p(i.goToChildRoute("/staff/loan-management"))}),t(10,"Loan Management "),n()(),e(11,"li",4)(12,"a",5),f("click",function(){return d(m),p(i.goToChildRoute("/staff/staff-report"))}),t(13,"View Reports"),n()(),e(14,"li",4)(15,"a",5),f("click",function(){return d(m),p(i.goToChildRoute("/settings"))}),t(16,"Settings"),n()()()(),e(17,"article")(18,"div",7)(19,"strong"),t(20,"Warning!"),n(),t(21," A Customer "),e(22,"b"),t(23,"MUST"),n(),t(24," have "),e(25,"b"),t(26,"ONLY"),n(),t(27," one loan at a time!!. "),n(),e(28,"div",8),t(29),n(),e(30,"p"),t(31," Outstanding Loan Perfomers - Loan Officers"),n(),e(32,"div",9)(33,"div",10)(34,"h3"),t(35,"Loan Assigned"),n(),e(36,"p"),t(37,"LM33697"),n(),e(38,"p"),t(39,"LM33394"),n(),e(40,"p"),t(41,"LM333365"),n()(),e(42,"div",10)(43,"h3"),t(44,"Customer Information"),n(),e(45,"p"),t(46,"Total Customers: 100"),n(),e(47,"p"),t(48,"Active Loans: 75"),n(),e(49,"p"),t(50,"Closed Loans: 18282"),n()(),e(51,"div",10)(52,"h3"),t(53,"Loan Application Overview"),n(),e(54,"p"),t(55,"Pending Applications: 20"),n(),e(56,"p"),t(57,"Approved Applications: 50"),n(),e(58,"p"),t(59,"Rejected Applications: 10"),n()()(),e(60,"div",9)(61,"div",10)(62,"h3"),t(63,"Monthly Targets"),n(),e(64,"p"),t(65,"LM33697"),n(),e(66,"p"),t(67,"LM33394"),n(),e(68,"p"),t(69,"LM333365"),n()(),e(70,"div",10)(71,"h3"),t(72,"Customer Information"),n(),e(73,"p"),t(74,"Total Customers: 100"),n(),e(75,"p"),t(76,"Active Loans: 75"),n(),e(77,"p"),t(78,"Closed Loans: 18282"),n()(),e(79,"div",10)(80,"h3"),t(81,"Loan Application Overview"),n(),e(82,"p"),t(83,"Pending Applications: 20"),n(),e(84,"p"),t(85,"Approved Applications: 50"),n(),e(86,"p"),t(87,"Rejected Applications: 10"),n()()()()(),e(88,"footer")(89,"p"),t(90,"Footer"),n()()}o&2&&(s(29),D(" Current Date and Time: ",i.currentDateTime," "))},dependencies:[E,L,k,F,V,R,I],styles:["section[_ngcontent-%COMP%]{display:-webkit-flex;display:flex;height:fit-content}img[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;display:flex;margin:5px auto}.timeDate[_ngcontent-%COMP%]{color:#5217db;display:flex;flex-direction:column;justify-content:flex-end;align-items:center}.navbar[_ngcontent-%COMP%]{background-color:#333;overflow:visible;cursor:pointer;width:20%;padding-top:20px;position:sticky;top:0;height:100vh;overflow-y:auto}.navbar-nav[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0;display:flex;flex-direction:column}.nav-item[_ngcontent-%COMP%]{flex:1}.nav-link[_ngcontent-%COMP%]{display:block;color:#fff;text-align:center;padding:14px 16px;text-decoration:none}.nav-link[_ngcontent-%COMP%]:hover{background-color:#575757}article[_ngcontent-%COMP%]{-webkit-flex:3;-ms-flex:3;flex:3;background-color:#e7e1ebf6}footer[_ngcontent-%COMP%]{background-color:#777;padding:2px;text-align:center;color:#fff}.container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:20px}.column[_ngcontent-%COMP%]{flex:1;margin:0 10px;padding:20px;background-color:#f4f4f4;border:1px solid #ccc;text-align:center}.column[_ngcontent-%COMP%]:first-child{margin-left:0}.column[_ngcontent-%COMP%]:last-child{margin-right:0}"]});let l=r;return l})();var ce=(()=>{let r=class r{};r.\u0275fac=function(o){return new(o||r)},r.\u0275cmp=v({type:r,selectors:[["app-reports"]],standalone:!0,features:[S],decls:2,vars:0,template:function(o,i){o&1&&(e(0,"p"),t(1,"reports works!"),n())}});let l=r;return l})();var Je=[{path:"",redirectTo:"staff-dashboard",pathMatch:"full"},{path:"staff-dashboard",component:pe},{path:"loan-management",component:j},{path:"staff-report",component:ce}];export{Je as STAFF_ROUTES};
